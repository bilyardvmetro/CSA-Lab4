; Найти разность между суммой квадратов и квадратом суммы первых ста натуральных чисел.
.data
    in_addr:    0
    out_addr:   1
    limit:      100

.code

; s1 - input num
; a0 - current num
; t0 - curr sq

; s2 - sq_sum
; s3 - sum_sq
; s4 - res
; t1 - out
; t2 - in

    lui t2, %hi(in_addr)
    ori t2, t2, %lo(in_addr)
    lw t2, t2, 0

    lui t1, %hi(out_addr)
    ori t1, t1, %lo(out_addr)
    lw t1, t1, 0

    lw s1, t2, 0
    addi a0, a0, 1

loop:
    beq a0, s1, calc

    add s2, s2, a0      ; sum += a0

    mul t0, a0, a0      ; a0^2
    add s3, s3, t0      ; s3 += a0^2

    addi a0, a0, 1      ; a0++

    jal r0, loop

calc:
    mul s2, s2, s2      ; sum = sum^2

    sub s4, s2, s3
    sw s4, t1, 0

    halt
