.data
in_addr: 0x09
out_addr: 0x10
ask_buf: [18, 'W', 'h', 'a', 't', ' ', 'i', 's', ' ', 'y', 'o', 'u', 'r', ' ', 'n', 'a', 'm', 'e', '?']
out_buf: [7, 'H', 'e', 'l', 'l', 'o', ',', ' ']
name: [0, '']

.text
_start:
	; тут косвенная, тк нам надо прочитать с адреса, который лежит по адресу метки in_addr
	lhi r1, in_addr			; in_addr[31..12] -> r1[31..12]
	lli r1, in_addr			; in_addr[11..0] -> r1[11..0]
	lw r1, r1				; mem[in_addr] -> r1
	
	; тут косвенная, тк нам надо прочитать с адреса, который лежит по адресу метки out_addr
	lhi r2, out_addr		; out_addr[31..12] -> r2[31..12]
	lli r2, out_addr		; out_addr[11..0] -> r2[11..0]
	lw r2, r2				; mem[out_addr] -> r2
	
	; тут косвенная, тк нам надо прочитать с адреса, который лежит по адресу метки out_addr
	lhi r5, ask_buf		; out_addr[31..12] -> r2[31..12]
	lli r5, ask_buf		; out_addr[11..0] -> r2[11..0]
	
	; тут косвенная, тк нам надо прочитать с адреса, который лежит по адресу метки out_addr
	lhi r6, out_buf		; out_addr[31..12] -> r2[31..12]
	lli r6, out_buf		; out_addr[11..0] -> r2[11..0]
	
	lhi r7, name		; out_addr[31..12] -> r2[31..12]
	lli r7, name		; out_addr[11..0] -> r2[11..0]
	
	lw r3, r5				; mem[mem[in_addr]] -> r3. Загрузили длины строки (счетчик) в r3
	mv r4, r3				; r3 -> r4
	
ask_loop:
	addi r4, r4, -1			; r4-1 -> r4
	beq end					; if Z=0 goto end
	
	lw r3, r5				; mem[mem[in_addr]] -> r3. Символ в r3
	sw r2, r3				; r3 -> mem[mem[out_addr]]. Вывести символ
	
	jmp ask_loop
	
	
	загрузить поинтер на буфер
	прибавить 1 (в первый индекс потом длину запишем)
	считываем символы до \n
	параллельно считаем длину строки
	записываем длину в первый индекс
	
	
	lw r3, r7				; mem[mem[in_addr]] -> r3. Загрузили длины строки (счетчик) в r3
	mv r4, r7				; r3 -> r4

in_loop:
	addi r4, r4, -1			; r4-1 -> r4
	beq end					; if Z=0 goto end
	
	lw r3, r7				; mem[mem[in_addr]] -> r3. Символ в r3
	sw r7, r3				; r3 -> mem[mem[out_addr]]. Вывести символ
	
	jmp in_loop

end:
	; тут косвенная, тк нам надо прочитать с адреса, который лежит по адресу метки out_addr
	lhi r1, out_addr		; out_addr[31..12] -> r1[31..12]
	lli r1, out_addr		; out_addr[11..0] -> r1[11..0]
	lw r1, r1				; mem[out_addr] -> r1
	
	
	lw r3, r7				; mem[mem[in_addr]] -> r3. Загрузили длины строки (счетчик) в r3
	mv r4, r7				; r3 -> r4
	
greeting_loop:
	sw r2, r3				; r3 -> mem[mem[out_addr]]. Вывести символ
	

	halt
	